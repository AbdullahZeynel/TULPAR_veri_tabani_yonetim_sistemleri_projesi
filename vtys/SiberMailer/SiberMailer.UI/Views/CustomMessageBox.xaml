<Window x:Class="SiberMailer.UI.Views.CustomMessageBox"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Message"
        Width="420" Height="240"
        MinWidth="320" MinHeight="200"
        WindowStartupLocation="CenterOwner"
        WindowStyle="None"
        AllowsTransparency="True"
        ResizeMode="NoResize"
        Background="Transparent"
        ShowInTaskbar="False"
        Topmost="True">

    <!-- Main Container with rounded corners and shadow effect -->
    <Border Background="{DynamicResource WindowBackgroundBrush}"
            CornerRadius="16"
            BorderBrush="{DynamicResource BorderBrush}"
            BorderThickness="1"
            Margin="15">

        <Border.Effect>
            <DropShadowEffect BlurRadius="25" 
                              ShadowDepth="0" 
                              Opacity="0.6" 
                              Color="#000000"/>
        </Border.Effect>

        <Grid Margin="24,20">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>  <!-- Header with close button -->
                <RowDefinition Height="*"/>      <!-- Content -->
                <RowDefinition Height="Auto"/>  <!-- Buttons -->
            </Grid.RowDefinitions>

            <!-- ============================================ -->
            <!-- HEADER ROW -->
            <!-- ============================================ -->
            <Grid Grid.Row="0" Margin="0,0,0,16">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/> <!-- Icon -->
                    <ColumnDefinition Width="*"/>    <!-- Title -->
                    <ColumnDefinition Width="Auto"/> <!-- Close button -->
                </Grid.ColumnDefinitions>

                <!-- Message Type Icon -->
                <Border x:Name="IconContainer"
                        Grid.Column="0"
                        Width="40" Height="40"
                        CornerRadius="20"
                        VerticalAlignment="Center"
                        Margin="0,0,14,0">
                    <TextBlock x:Name="IconText"
                               Text="⚠"
                               FontSize="20"
                               HorizontalAlignment="Center"
                               VerticalAlignment="Center"/>
                </Border>

                <!-- Title -->
                <TextBlock x:Name="TitleText"
                           Grid.Column="1"
                           Text="Hata"
                           Foreground="{DynamicResource PrimaryTextBrush}"
                           FontSize="18"
                           FontWeight="SemiBold"
                           VerticalAlignment="Center"
                           TextTrimming="CharacterEllipsis"/>

                <!-- Close Button -->
                <Button Grid.Column="2"
                        Content="✕"
                        Click="CloseButton_Click"
                        Style="{DynamicResource IconButtonStyle}"
                        FontSize="14"
                        Foreground="{DynamicResource SecondaryTextBrush}"
                        ToolTip="Close"
                        Width="32" Height="32"
                        VerticalAlignment="Center"/>
            </Grid>

            <!-- ============================================ -->
            <!-- MESSAGE CONTENT -->
            <!-- ============================================ -->
            <Border Grid.Row="1" 
                    Background="{DynamicResource PanelBackgroundBrush}"
                    CornerRadius="10"
                    Padding="16,12"
                    Margin="0,0,0,16">
                <TextBlock x:Name="MessageText"
                           Text="Message content."
                           Foreground="{DynamicResource PrimaryTextBrush}"
                           FontSize="13"
                           TextWrapping="Wrap"
                           VerticalAlignment="Center"/>
            </Border>

            <!-- ============================================ -->
            <!-- BUTTON ROW -->
            <!-- ============================================ -->
            <StackPanel Grid.Row="2" 
                        Orientation="Horizontal"
                        HorizontalAlignment="Right">
                <Button x:Name="OkButton"
                        Content="OK"
                        Click="OkButton_Click"
                        Style="{DynamicResource AccentButtonStyle}"
                        MinWidth="90"
                        Height="40"
                        FontSize="14"
                        FontWeight="SemiBold"/>
            </StackPanel>
        </Grid>
    </Border>
</Window>
